# uchet-kontora - веб-приложение для риелторской конторы (React)

**Кратко (30 сек):** веб-приложение риелторской конторы на клиент-серверной архитектуре. Изначально было курсовой работой, сейчас развиваю как pet-project: допиливаю профиль, функции ролей, фильтры.

## Демо / скриншоты
- Деплой: _добавь ссылку (Netlify)_
- Скриншоты: `./docs/screenshots/` (главный экран + боковая панель + Lighthouse mobile)

## Стек
- **Frontend:** React 18, JS, CSS, MUI material
- **UI:** MUI material
- **Состояние:** `useState` + `useEffect`
- **Данные:** React + Express.js + MySQL (через fetch). Через клиентскую сторону идет обращение к серверу, а в последствии к бд для взаимодействия с данными. 
- **Качество:** ESLint

## Фичи (то, что есть сейчас)
- Авторизация/регистрация
- Личный кабинет
- Добавление объявления в избранное
- Просмотр **карточки квартиры** в виде слайдера с фото, описанием и кнопкой связи с агентом
- Просмотр **всех объявлений**
- Возможность зайти в личный кабинет через соответствующую кнопку
- Возможность использовать функции веб-приложения только клавиатурой (TAB для перемещения, ENTER для нажатия)
- Фильтры поиска объявлений

> Примечание: приложение использует простой способ шифрования пароля через встроенную библиотеку crypto и секретный ключ.

## Архитектура (кратко)
```
server/
  models/
    Agent.js          # Взаимодействие с таблицей agents в БД
    ...
  profile/
    registration.js   # Регистрация/авторизация + хеширование пароля
  routes/
    agentRoutes.js    # Маршруты для взаимодействия с данными агентов в БД
    ...
  config.js           # Подключение к БД
  index.js            # Запуск сервера
src/
  components/
    Header.js     # header
    Header.css    # визуальная часть header
  pages/
    ApartmentDetail.js    # карточка квартиры
    ApartmentDetail.css   # Дизайн карточки квартиры 
    ApartmentList.js      # Страница со всеми объявлениями
    Home.js               # Начльная "домашняя" страница
    Login.js              # Страница входа
    Profile.js            # Страница профиля
    Register.js           # Страница регистрация
  api.js     # взаимодействие с сервером
  App.jsx        # localStorage для токена + навигация
  index.css
```

## Переменные окружения
Используется секретный ключ для хеширования пароля. Он находится в файле "./server/profile/registration.js":
```bash
const SECRET_KEY = SECRET_KEY
```
> Ключ может быть любым, но он должен совпадать с ключом, использовавшимся для создания старых записей для получения к ним доступа.
> Веб-приложение не используется в коммерческих целях поэтому секретный ключ не был удален при публикации проекта на ГитХаб.

## Метрики (цели для мобильных)
- Lighthouse: **90–100**
- Web Vitals: **LCP < 2.0 s**, **CLS ~ 0.01**
- Bundle: **≤ 300 KB**
> Скриншоты с Lighthouse положи в `./docs/screenshots/`.

## Доступность (A11y)
- Клавиатурная навигация и видимые фокусы
- Альтернативный текст для изображения (`alt={data.title || 'bg-img'}`)
- Рекомендуется добавить ARIA для кнопок открытия/закрытия панели

## Roadmap
- [ ] Обработка 4xx/5xx и пустых состояний (ошибка сети, лимит API)
- [ ] Исправление фильтров
- [ ] Lazy-loading изображений + prefetch метаданных
- [ ] Локализация RU/EN (title/labels), переключатель языка
- [ ] Скриншоты и отчёт метрик Lighthouse
- [ ] (опц.) Перевод на TypeScript
- [ ] Добавление новых функций профиля
- [ ] Реализация отдельной панели для агентов
- [ ] Реализация панели администратора

## Цель проекта
Показать умение вести фичи end-to-end на клиент-серверной архитектуре:
- UI/UX: аккуратные формы, состояния (loading/empty/error), доступность (A11y);
- Auth/Security: регистрация, вход, хэш пароля (bcrypt), JWT;
- API/БД: REST на Express, валидация входных данных, индексы, SQL (MySQL);
- Качество: ESLint, базовые тесты (unit/e2e), CI;
- Производительность: Lighthouse/Web Vitals (LCP/CLS/TTI), code-splitting;
- Деплой: фронт (Netlify/Vercel), бэкенд (Render/Railway), управляемая БД (Neon/PlanetScale);
- Наблюдаемость: сбор метрик/логов/ошибок (Sentry/аналог).

## Запуск
```bash
client
npm i
npm start       # http://localhost:3000
npm run build
npm run preview

server
cd server
node index.js
```
